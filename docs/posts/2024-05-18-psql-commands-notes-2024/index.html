<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners | Backend Byte</title>
<meta name=keywords content="psql"><meta name=description content="A beginner's guide to mastering PostgreSQL and essential psql command line skills."><meta name=author content="Backend Byte"><link rel=canonical href=http://backendbyte.com/posts/2024-05-18-postgresql-psql-basics/><link crossorigin=anonymous href=http://backendbyte.com/assets/css/stylesheet.20c194b929af751929546fb6a7752e20b0687bd8df8d51f0cfbfa0e70f13cda3.css integrity="sha256-IMGUuSmvdRkpVG+2p3UuILBoe9jfjVHwz7+g5w8TzaM=" rel="preload stylesheet" as=style><link rel=icon href=http://backendbyte.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://backendbyte.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://backendbyte.com/favicon-32x32.png><link rel=apple-touch-icon href=http://backendbyte.com/apple-touch-icon.png><link rel=mask-icon href=http://backendbyte.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://backendbyte.com/posts/2024-05-18-psql-commands-notes-2024/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=icon type=image/x-icon href=http://backendbyte.com/assets/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://backendbyte.com/assets/icons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://backendbyte.com/assets/icons/favicon-32x32.png><link rel=apple-touch-icon sizes=180x180 href=http://backendbyte.com/assets/icons/apple-touch-icon.png><link rel=mask-icon href=http://backendbyte.com/assets/icons/safari-pinned-tab.svg color=#5bbad5><meta name=theme-color content="#ffffff"><meta property="og:title" content="Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners"><meta property="og:description" content="A beginner's guide to mastering PostgreSQL and essential psql command line skills."><meta property="og:type" content="article"><meta property="og:url" content="http://backendbyte.com/posts/2024-05-18-psql-commands-notes-2024/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-05-18T00:00:00+00:00"><meta property="article:modified_time" content="2024-05-18T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners"><meta name=twitter:description content="A beginner's guide to mastering PostgreSQL and essential psql command line skills."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://backendbyte.com/posts/"},{"@type":"ListItem","position":2,"name":"Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners","item":"http://backendbyte.com/posts/2024-05-18-psql-commands-notes-2024/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners","name":"Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners","description":"A beginner's guide to mastering PostgreSQL and essential psql command line skills.","keywords":["psql"],"articleBody":" Nearly three years ago, I upgraded to Ubuntu 22.04 LTS. After the upgrade, I ran into problems with pgAdmin 4 when working with PostgreSQL. As a result, I had to rely on the psql interactive shell for all my tasks. Here, I will share some basic psql commands that I frequently use.\n1. Enter psql shell To interact with PostgreSQL from the terminal, enter the psql shell. To enter the psql shell, type:\nsudo su - postgres sudo su - postgres is a command used to run a specific command as the postgres user. After entering this command, type psql to enter the PostgreSQL interactive terminal as the postgres user. It allows you to execute various SQL commands and interact with the PostgreSQL database.\nYou can do the same task with a single command:\nsudo -u postgres psql It will give you access to the PostgreSQL interactive terminal.\n2. Create User To create a user, type:\nCREATE USER username WITH PASSWORD 'password'; One thing to mention is to write your password inside the inverted comma. And don’t forget to add a semicolon at the end of the statement.\n3. Create Database To create a database, enter:\nCREATE DATABASE database_name; 4. Add User to Database To add your newly created user to any of your previously created databases, type:\nGRANT ALL PRIVILEGES ON DATABASE \u003cdatabase name\u003e TO \u003cusername\u003e; 5. Display Database List To show the created database list, type:\n\\l It will show a list of all databases on the server.\n6. Select Database To switch/connect a specific database, in this case, your newly created one, type:\n\\c \u003cdatabase name\u003e 7. Show Table To show all the tables in your database, type:\n\\dt or\n/d It will print a list of all tables in the current database. The \\dt command lists all the tables in the current database. It is a shortcut for the \\d tables command, which displays only the tables in the database.\n8. Create a Table To create a table, write your queries. We want to create a table LinkedInPost containing id, post_title, post_content, post_date fields. To create this, type this command in your shell:\nCREATE TABLE LinkedInPosts ( id SERIAL PRIMARY KEY, post_title VARCHAR(255), post_content TEXT, post_date TIMESTAMP DEFAULT NOW() ); 9. Rename a Column To rename any column in a table in PostgreSQL using psql interactive shell, you can use the ALTER TABLE statement with the RENAME COLUMN clause. For example, to rename post_title column to post_featured_title, type:\nALTER TABLE LinkedInPost RENAME COLUMN post_title TO post_featured_title; It will rename the column post_title to post_featured_title.\n10. Delete a Column To delete a column from a table in PostgreSQL using psql interactive shell, use the ALTER TABLE statement with the DROP COLUMN clause. For example, to delete the post_content field from your LinkedInPost table, type:\nALTER TABLE LinkedInPost DROP COLUMN post_content; 11. Index a Column To index a column to make your query faster, suppose you want to index the id column. To create an index on the id field of the LinkedInPost table in PostgreSQL, you can use the CREATE INDEX statement. Type:\nCREATE INDEX idx_id ON LinkedInPost(id); It will create an index column idx_id based on the id column.\n12. Delete the Database To delete a table, type:\nDROP DATABASE LinkedInPost; The database you created before is deleted successfully.\n13. Delete Database Issue If you encounter an error when trying to delete the database, like:\nERROR: database \"LinkedInPost_db\" is being accessed by other user DETAIL: There are 3 other sessions using the database. It occurs because after creating the database, I connect it with pgAdmin 4. If you encounter this type of issue, type:\nSELECT pg_terminate_backend(pg_stat_activity.pid) FROM pg_stat_activity WHERE pg_stat_activity.datname = 'LinkedInPost_db' AND pid \u003c\u003e pg_backend_pid(); It will terminate all the connections to the database except the one you are currently using.\nNote: Before running this statement, please log in as the postgres user in the psql shell.\n14. Backup your Database To backup a database, please select the database by typing:\n\\c your_database_name In our case, it will be:\n\\c LinkedInPost Then type:\npg_dump -U postgres -Fc your_database_name \u003e /path/to/your_backup_file_name.dump In this command, -U specifies the user, -Fc specifies the format of the backup file as custom, your_database_name is the name of the database you want to backup, and /path/to/your_backup_file_name.dump is the path and name of the backup file you want to create.\n15. Use the Backup File To import a PostgreSQL backup file with a .dump file extension, you can use the pg_restore command-line tool. Type:\npg_restore -U username -d databasename filename.dump In our case, it will be:\npg_restore -U postgres -d mydatabase mybackupfile.dump You cannot use any custom file type in the pg_dump and pg_restore commands for the backup file type. The pg_dump command creates a custom binary file format for PostgreSQL with the file extension .dump. Similarly, pg_restore is designed to work only with the customized binary format generated by pg_dump.\nWith these commands, you cannot use JSON, Excel, or any other file format. The PostgreSQL custom binary format is widely used in the industry and is considered the standard for PostgreSQL backups and restores. While other file formats are available, such as plain text, CSV, and SQL, the custom binary format is preferred because it allows for faster backup and restore times, supports more advanced features, and is more secure.\nTo exit from the psql terminal, use:\n\\q Configure PostgreSQL with Django If you are completely new to PostgreSQL and trying to connect it with the Python Django Framework, you might face an error during installing psycopg2, a popular PostgreSQL database adapter. You can try to run this code in your terminal:\nsudo apt-get install --reinstall libpq-dev pip install psycopg2 Another problem you might face during python3 manage.py makemigrations and python3 manage.py migrate is:\npsycopg2.errors.InsufficientPrivilege: permission denied for table django_migrations It’s because of insufficient permission for the user you created before. To solve this issue, run another script in your psql interactive shell:\n\\c your_database_name GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO \u003cusername\u003e; It will solve your issue. You might ask, “I already granted permission to the database, why should I run another script again?”. The answer is:\n-- Permission on One Table GRANT ALL PRIVILEGES ON TABLE side_adzone TO \u003cusername\u003e; -- Permission on All Tables of schema GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO \u003cusername\u003e; Hope your problem will be solved immediately. I found this piece of code after some trial and error.\nConclusion Learning essential psql command-line skills is an important step toward mastering PostgreSQL as a beginner. With the skills covered in this article, you are now equipped to create and manage databases, tables, and columns, as well as perform basic data manipulation tasks in PostgreSQL. As you continue to practice and learn more about PostgreSQL, you will discover that there is so much more you can do with the psql command-line interface. So go ahead and dive deeper into the world of PostgreSQL, and let the journey of mastering this powerful open-source relational database begin!\nThanks for reading! Hope you found this helpful.\n","wordCount":"1182","inLanguage":"en","datePublished":"2024-05-18T00:00:00Z","dateModified":"2024-05-18T00:00:00Z","author":{"@type":"Person","name":"Backend Byte"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://backendbyte.com/posts/2024-05-18-psql-commands-notes-2024/"},"publisher":{"@type":"Organization","name":"Backend Byte","logo":{"@type":"ImageObject","url":"http://backendbyte.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://backendbyte.com/ accesskey=h title="Backend Byte (Alt + H)"><img src=http://backendbyte.com/logo.png alt aria-label=logo height=35>Backend Byte</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://backendbyte.com/ title=Home><span>Home</span></a></li><li><a href=http://backendbyte.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=http://backendbyte.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://backendbyte.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://backendbyte.com/>Home</a>&nbsp;»&nbsp;<a href=http://backendbyte.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners</h1><div class=post-description>A beginner's guide to mastering PostgreSQL and essential psql command line skills.</div><div class=post-meta><span title='2024-05-18 00:00:00 +0000 UTC'>May 18, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1182 words&nbsp;·&nbsp;Backend Byte</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#1-enter-psql-shell>1. Enter psql shell</a></li><li><a href=#2-create-user>2. Create User</a></li><li><a href=#3-create-database>3. Create Database</a></li><li><a href=#4-add-user-to-database>4. Add User to Database</a></li><li><a href=#5-display-database-list>5. Display Database List</a></li><li><a href=#6-select-database>6. Select Database</a></li><li><a href=#7-show-table>7. Show Table</a></li><li><a href=#8-create-a-table>8. Create a Table</a></li><li><a href=#9-rename-a-column>9. Rename a Column</a></li><li><a href=#10-delete-a-column>10. Delete a Column</a></li><li><a href=#11-index-a-column>11. Index a Column</a></li><li><a href=#12-delete-the-database>12. Delete the Database</a></li><li><a href=#13-delete-database-issue>13. Delete Database Issue</a></li><li><a href=#14-backup-your-database>14. Backup your Database</a></li><li><a href=#15-use-the-backup-file>15. Use the Backup File</a></li><li><a href=#configure-postgresql-with-django>Configure PostgreSQL with Django</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></details></div><div class=post-content><p><img loading=lazy src=http://backendbyte.com/images/posts/2024/postgres-copy-cmd/postgresql-copy-cmd.png alt="Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners">
Nearly three years ago, I upgraded to Ubuntu 22.04 LTS. After the upgrade, I ran into problems with pgAdmin 4 when working with PostgreSQL. As a result, I had to rely on the psql interactive shell for all my tasks. Here, I will share some basic psql commands that I frequently use.</p><h2 id=1-enter-psql-shell>1. Enter psql shell<a hidden class=anchor aria-hidden=true href=#1-enter-psql-shell>#</a></h2><p>To interact with PostgreSQL from the terminal, enter the <code>psql</code> shell. To enter the <code>psql</code> shell, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo su - postgres
</span></span></code></pre></div><p><code>sudo su - postgres</code> is a command used to run a specific command as the <code>postgres</code> user. After entering this command, type <code>psql</code> to enter the PostgreSQL interactive terminal as the <code>postgres</code> user. It allows you to execute various SQL commands and interact with the PostgreSQL database.</p><p>You can do the same task with a single command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo -u postgres psql
</span></span></code></pre></div><p>It will give you access to the PostgreSQL interactive terminal.</p><h2 id=2-create-user>2. Create User<a hidden class=anchor aria-hidden=true href=#2-create-user>#</a></h2><p>To create a user, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>USER</span> username <span style=color:#66d9ef>WITH</span> PASSWORD <span style=color:#e6db74>&#39;password&#39;</span>;
</span></span></code></pre></div><p>One thing to mention is to write your password inside the inverted comma. And don’t forget to add a semicolon at the end of the statement.</p><h2 id=3-create-database>3. Create Database<a hidden class=anchor aria-hidden=true href=#3-create-database>#</a></h2><p>To create a database, enter:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> database_name;
</span></span></code></pre></div><h2 id=4-add-user-to-database>4. Add User to Database<a hidden class=anchor aria-hidden=true href=#4-add-user-to-database>#</a></h2><p>To add your newly created user to any of your previously created databases, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>ALL</span> <span style=color:#66d9ef>PRIVILEGES</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>database</span> name<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>TO</span> <span style=color:#f92672>&lt;</span>username<span style=color:#f92672>&gt;</span>;
</span></span></code></pre></div><h2 id=5-display-database-list>5. Display Database List<a hidden class=anchor aria-hidden=true href=#5-display-database-list>#</a></h2><p>To show the created database list, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span>l
</span></span></code></pre></div><p>It will show a list of all databases on the server.</p><h2 id=6-select-database>6. Select Database<a hidden class=anchor aria-hidden=true href=#6-select-database>#</a></h2><p>To switch/connect a specific database, in this case, your newly created one, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#66d9ef>c</span> <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>database</span> name<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h2 id=7-show-table>7. Show Table<a hidden class=anchor aria-hidden=true href=#7-show-table>#</a></h2><p>To show all the tables in your database, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span>dt
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#f92672>/</span>d
</span></span></code></pre></div><p>It will print a list of all tables in the current database. The <code>\dt</code> command lists all the tables in the current database. It is a shortcut for the <code>\d tables</code> command, which displays only the tables in the database.</p><h2 id=8-create-a-table>8. Create a Table<a hidden class=anchor aria-hidden=true href=#8-create-a-table>#</a></h2><p>To create a table, write your queries. We want to create a table <code>LinkedInPost</code> containing <code>id</code>, <code>post_title</code>, <code>post_content</code>, <code>post_date</code> fields. To create this, type this command in your shell:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> LinkedInPosts (
</span></span><span style=display:flex><span>   id SERIAL <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>   post_title VARCHAR(<span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>   post_content TEXT,
</span></span><span style=display:flex><span>   post_date <span style=color:#66d9ef>TIMESTAMP</span> <span style=color:#66d9ef>DEFAULT</span> NOW()
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><h2 id=9-rename-a-column>9. Rename a Column<a hidden class=anchor aria-hidden=true href=#9-rename-a-column>#</a></h2><p>To rename any column in a table in PostgreSQL using <code>psql</code> interactive shell, you can use the <code>ALTER TABLE</code> statement with the <code>RENAME COLUMN</code> clause. For example, to rename <code>post_title</code> column to <code>post_featured_title</code>, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> LinkedInPost <span style=color:#66d9ef>RENAME</span> <span style=color:#66d9ef>COLUMN</span> post_title <span style=color:#66d9ef>TO</span> post_featured_title;
</span></span></code></pre></div><p>It will rename the column <code>post_title</code> to <code>post_featured_title</code>.</p><h2 id=10-delete-a-column>10. Delete a Column<a hidden class=anchor aria-hidden=true href=#10-delete-a-column>#</a></h2><p>To delete a column from a table in PostgreSQL using <code>psql</code> interactive shell, use the <code>ALTER TABLE</code> statement with the <code>DROP COLUMN</code> clause. For example, to delete the <code>post_content</code> field from your <code>LinkedInPost</code> table, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> LinkedInPost <span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>COLUMN</span> post_content;
</span></span></code></pre></div><h2 id=11-index-a-column>11. Index a Column<a hidden class=anchor aria-hidden=true href=#11-index-a-column>#</a></h2><p>To index a column to make your query faster, suppose you want to index the <code>id</code> column. To create an index on the <code>id</code> field of the <code>LinkedInPost</code> table in PostgreSQL, you can use the <code>CREATE INDEX</code> statement. Type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>INDEX</span> idx_id <span style=color:#66d9ef>ON</span> LinkedInPost(id);
</span></span></code></pre></div><p>It will create an index column <code>idx_id</code> based on the <code>id</code> column.</p><h2 id=12-delete-the-database>12. Delete the Database<a hidden class=anchor aria-hidden=true href=#12-delete-the-database>#</a></h2><p>To delete a table, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>DATABASE</span> LinkedInPost;
</span></span></code></pre></div><p>The database you created before is deleted successfully.</p><h2 id=13-delete-database-issue>13. Delete Database Issue<a hidden class=anchor aria-hidden=true href=#13-delete-database-issue>#</a></h2><p>If you encounter an error when trying to delete the database, like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>ERROR: database &#34;LinkedInPost_db&#34; is being accessed by other user
</span></span><span style=display:flex><span>DETAIL: There are 3 other sessions using the database.
</span></span></code></pre></div><p>It occurs because after creating the database, I connect it with pgAdmin 4. If you encounter this type of issue, type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> pg_terminate_backend(pg_stat_activity.pid)
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> pg_stat_activity
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> pg_stat_activity.datname <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;LinkedInPost_db&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>AND</span> pid <span style=color:#f92672>&lt;&gt;</span> pg_backend_pid();
</span></span></code></pre></div><p>It will terminate all the connections to the database except the one you are currently using.</p><p><strong>Note:</strong> Before running this statement, please log in as the <code>postgres</code> user in the <code>psql</code> shell.</p><h2 id=14-backup-your-database>14. Backup your Database<a hidden class=anchor aria-hidden=true href=#14-backup-your-database>#</a></h2><p>To backup a database, please select the database by typing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#66d9ef>c</span> your_database_name
</span></span></code></pre></div><p>In our case, it will be:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#66d9ef>c</span> LinkedInPost
</span></span></code></pre></div><p>Then type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pg_dump -U postgres -Fc your_database_name &gt; /path/to/your_backup_file_name.dump
</span></span></code></pre></div><p>In this command, <code>-U</code> specifies the user, <code>-Fc</code> specifies the format of the backup file as custom, <code>your_database_name</code> is the name of the database you want to backup, and <code>/path/to/your_backup_file_name.dump</code> is the path and name of the backup file you want to create.</p><h2 id=15-use-the-backup-file>15. Use the Backup File<a hidden class=anchor aria-hidden=true href=#15-use-the-backup-file>#</a></h2><p>To import a PostgreSQL backup file with a <code>.dump</code> file extension, you can use the <code>pg_restore</code> command-line tool. Type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pg_restore -U username -d databasename filename.dump
</span></span></code></pre></div><p>In our case, it will be:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pg_restore -U postgres -d mydatabase mybackupfile.dump
</span></span></code></pre></div><p>You cannot use any custom file type in the <code>pg_dump</code> and <code>pg_restore</code> commands for the backup file type. The <code>pg_dump</code> command creates a custom binary file format for PostgreSQL with the file extension <code>.dump</code>. Similarly, <code>pg_restore</code> is designed to work only with the customized binary format generated by <code>pg_dump</code>.</p><p>With these commands, you cannot use JSON, Excel, or any other file format. The PostgreSQL custom binary format is widely used in the industry and is considered the standard for PostgreSQL backups and restores. While other file formats are available, such as plain text, CSV, and SQL, the custom binary format is preferred because it allows for faster backup and restore times, supports more advanced features, and is more secure.</p><p>To exit from the <code>psql</code> terminal, use:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span>q
</span></span></code></pre></div><h2 id=configure-postgresql-with-django>Configure PostgreSQL with Django<a hidden class=anchor aria-hidden=true href=#configure-postgresql-with-django>#</a></h2><p>If you are completely new to PostgreSQL and trying to connect it with the Python Django Framework, you might face an error during installing <code>psycopg2</code>, a popular PostgreSQL database adapter. You can try to run this code in your terminal:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get install --reinstall libpq-dev
</span></span><span style=display:flex><span>pip install psycopg2
</span></span></code></pre></div><p>Another problem you might face during <code>python3 manage.py makemigrations</code> and <code>python3 manage.py migrate</code> is:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>psycopg2.errors.InsufficientPrivilege: permission denied for table django_migrations
</span></span></code></pre></div><p>It&rsquo;s because of insufficient permission for the user you created before. To solve this issue, run another script in your <code>psql</code> interactive shell:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#66d9ef>c</span> your_database_name
</span></span><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>ALL</span> <span style=color:#66d9ef>PRIVILEGES</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>ALL</span> TABLES <span style=color:#66d9ef>IN</span> <span style=color:#66d9ef>SCHEMA</span> <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>TO</span> <span style=color:#f92672>&lt;</span>username<span style=color:#f92672>&gt;</span>;
</span></span></code></pre></div><p>It will solve your issue. You might ask, &ldquo;I already granted permission to the database, why should I run another script again?&rdquo;. The answer is:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- Permission on One Table
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>ALL</span> <span style=color:#66d9ef>PRIVILEGES</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>TABLE</span> side_adzone <span style=color:#66d9ef>TO</span> <span style=color:#f92672>&lt;</span>username<span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>-- Permission on All Tables of schema
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>ALL</span> <span style=color:#66d9ef>PRIVILEGES</span> <span style=color:#66d9ef>ON</span> <span style=color:#66d9ef>ALL</span> TABLES <span style=color:#66d9ef>IN</span> <span style=color:#66d9ef>SCHEMA</span> <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>TO</span> <span style=color:#f92672>&lt;</span>username<span style=color:#f92672>&gt;</span>;
</span></span></code></pre></div><p>Hope your problem will be solved immediately. I found this piece of code after some trial and error.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Learning essential <code>psql</code> command-line skills is an important step toward mastering PostgreSQL as a beginner. With the skills covered in this article, you are now equipped to create and manage databases, tables, and columns, as well as perform basic data manipulation tasks in PostgreSQL. As you continue to practice and learn more about PostgreSQL, you will discover that there is so much more you can do with the <code>psql</code> command-line interface. So go ahead and dive deeper into the world of PostgreSQL, and let the journey of mastering this powerful open-source relational database begin!</p><p>Thanks for reading! Hope you found this helpful.</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://backendbyte.com/tags/psql/>Psql</a></li></ul><nav class=paginav><a class=prev href=http://backendbyte.com/posts/2024-05-18-argocd-deployment-notes-2024/><span class=title>« Prev</span><br><span>ArgoCD configuration on Bare metal with nginx-ingress and cloudflare tunnel</span>
</a><a class=next href=http://backendbyte.com/posts/2024-05-18-k8s-setup-notes-2024/><span class=title>Next »</span><br><span>Setting Up a Kubernetes Cluster with k3s on Bare Metal Server</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners on x" href="https://x.com/intent/tweet/?text=Getting%20Started%20with%20PostgreSQL%3a%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;url=http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f&amp;hashtags=psql"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f&amp;title=Getting%20Started%20with%20PostgreSQL%3a%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;summary=Getting%20Started%20with%20PostgreSQL%3a%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;source=http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners on reddit" href="https://reddit.com/submit?url=http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f&title=Getting%20Started%20with%20PostgreSQL%3a%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners on whatsapp" href="https://api.whatsapp.com/send?text=Getting%20Started%20with%20PostgreSQL%3a%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners%20-%20http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners on telegram" href="https://telegram.me/share/url?text=Getting%20Started%20with%20PostgreSQL%3a%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;url=http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL: Essential psql Command Line Skills for Beginners on ycombinator" href="https://news.ycombinator.com/submitlink?t=Getting%20Started%20with%20PostgreSQL%3a%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&u=http%3a%2f%2fbackendbyte.com%2fposts%2f2024-05-18-psql-commands-notes-2024%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://backendbyte.com/>Backend Byte</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>