<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners | Backend Byte</title>
<meta name="keywords" content="psql">
<meta name="description" content="Nearly three years ago, I upgraded to Ubuntu 22.04 LTS. After the upgrade, I ran into problems with pgAdmin 4 when working with PostgreSQL. As a result, I had to rely on the psql interactive shell for all my tasks. Here, I will share some basic psql commands that I frequently use.
1. Enter psql shell
To interact with PostgreSQL from the terminal, enter the psql shell. To enter the psql shell, type:">
<meta name="author" content="Backend Byte">
<link rel="canonical" href="http://localhost:1313/posts/2024-05-18-psql-commands-notes-2024/">
<link crossorigin="anonymous" href="../../assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css" integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="../../assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/2024-05-18-psql-commands-notes-2024/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Backend Byte (Alt + H)">
                <img src="http://localhost:1313/logo.png" alt="" aria-label="logo"
                    height="35">Backend Byte</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title">
      Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners
    </h1>
    <div class="post-meta">&lt;span title=&#39;2024-05-18 00:00:00 &#43;0000 UTC&#39;&gt;May 18, 2024&lt;/span&gt;&amp;nbsp;·&amp;nbsp;6 min&amp;nbsp;·&amp;nbsp;Backend Byte

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-enter-psql-shell" aria-label="1. Enter psql shell">1. Enter psql shell</a></li>
                <li>
                    <a href="#2-create-user" aria-label="2. Create User">2. Create User</a></li>
                <li>
                    <a href="#3-create-database" aria-label="3. Create Database">3. Create Database</a></li>
                <li>
                    <a href="#4-add-user-to-database" aria-label="4. Add User to Database">4. Add User to Database</a></li>
                <li>
                    <a href="#5-display-database-list" aria-label="5. Display Database List">5. Display Database List</a></li>
                <li>
                    <a href="#6-select-database" aria-label="6. Select Database">6. Select Database</a></li>
                <li>
                    <a href="#7-show-table" aria-label="7. Show Table">7. Show Table</a></li>
                <li>
                    <a href="#8-create-a-table" aria-label="8. Create a Table">8. Create a Table</a></li>
                <li>
                    <a href="#9-rename-a-column" aria-label="9. Rename a Column">9. Rename a Column</a></li>
                <li>
                    <a href="#10-delete-a-column" aria-label="10. Delete a Column">10. Delete a Column</a></li>
                <li>
                    <a href="#11-index-a-column" aria-label="11. Index a Column">11. Index a Column</a></li>
                <li>
                    <a href="#12-delete-the-database" aria-label="12. Delete the Database">12. Delete the Database</a></li>
                <li>
                    <a href="#13-delete-database-issue" aria-label="13. Delete Database Issue">13. Delete Database Issue</a></li>
                <li>
                    <a href="#14-backup-your-database" aria-label="14. Backup your Database">14. Backup your Database</a></li>
                <li>
                    <a href="#15-use-the-backup-file" aria-label="15. Use the Backup File">15. Use the Backup File</a></li>
                <li>
                    <a href="#configure-postgresql-with-django" aria-label="Configure PostgreSQL with Django">Configure PostgreSQL with Django</a></li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Nearly three years ago, I upgraded to Ubuntu 22.04 LTS. After the upgrade, I ran into problems with pgAdmin 4 when working with PostgreSQL. As a result, I had to rely on the psql interactive shell for all my tasks. Here, I will share some basic psql commands that I frequently use.</p>
<h2 id="1-enter-psql-shell">1. Enter psql shell<a hidden class="anchor" aria-hidden="true" href="#1-enter-psql-shell">#</a></h2>
<p>To interact with PostgreSQL from the terminal, enter the <code>psql</code> shell. To enter the <code>psql</code> shell, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo su - postgres
</span></span></code></pre></div><p><code>sudo su - postgres</code> is a command used to run a specific command as the <code>postgres</code> user. After entering this command, type <code>psql</code> to enter the PostgreSQL interactive terminal as the <code>postgres</code> user. It allows you to execute various SQL commands and interact with the PostgreSQL database.</p>
<p>You can do the same task with a single command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo -u postgres psql
</span></span></code></pre></div><p>It will give you access to the PostgreSQL interactive terminal.</p>
<h2 id="2-create-user">2. Create User<a hidden class="anchor" aria-hidden="true" href="#2-create-user">#</a></h2>
<p>To create a user, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">USER</span> username <span style="color:#66d9ef">WITH</span> PASSWORD <span style="color:#e6db74">&#39;password&#39;</span>;
</span></span></code></pre></div><p>One thing to mention is to write your password inside the inverted comma. And don’t forget to add a semicolon at the end of the statement.</p>
<h2 id="3-create-database">3. Create Database<a hidden class="anchor" aria-hidden="true" href="#3-create-database">#</a></h2>
<p>To create a database, enter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">DATABASE</span> database_name;
</span></span></code></pre></div><h2 id="4-add-user-to-database">4. Add User to Database<a hidden class="anchor" aria-hidden="true" href="#4-add-user-to-database">#</a></h2>
<p>To add your newly created user to any of your previously created databases, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">ALL</span> <span style="color:#66d9ef">PRIVILEGES</span> <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">DATABASE</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">database</span> name<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">TO</span> <span style="color:#f92672">&lt;</span>username<span style="color:#f92672">&gt;</span>;
</span></span></code></pre></div><h2 id="5-display-database-list">5. Display Database List<a hidden class="anchor" aria-hidden="true" href="#5-display-database-list">#</a></h2>
<p>To show the created database list, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span>l
</span></span></code></pre></div><p>It will show a list of all databases on the server.</p>
<h2 id="6-select-database">6. Select Database<a hidden class="anchor" aria-hidden="true" href="#6-select-database">#</a></h2>
<p>To switch/connect a specific database, in this case, your newly created one, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">c</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">database</span> name<span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><h2 id="7-show-table">7. Show Table<a hidden class="anchor" aria-hidden="true" href="#7-show-table">#</a></h2>
<p>To show all the tables in your database, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span>dt
</span></span></code></pre></div><p>or</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#f92672">/</span>d
</span></span></code></pre></div><p>It will print a list of all tables in the current database. The <code>\dt</code> command lists all the tables in the current database. It is a shortcut for the <code>\d tables</code> command, which displays only the tables in the database.</p>
<h2 id="8-create-a-table">8. Create a Table<a hidden class="anchor" aria-hidden="true" href="#8-create-a-table">#</a></h2>
<p>To create a table, write your queries. We want to create a table <code>LinkedInPost</code> containing <code>id</code>, <code>post_title</code>, <code>post_content</code>, <code>post_date</code> fields. To create this, type this command in your shell:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> LinkedInPosts (
</span></span><span style="display:flex;"><span>   id SERIAL <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>   post_title VARCHAR(<span style="color:#ae81ff">255</span>),
</span></span><span style="display:flex;"><span>   post_content TEXT,
</span></span><span style="display:flex;"><span>   post_date <span style="color:#66d9ef">TIMESTAMP</span> <span style="color:#66d9ef">DEFAULT</span> NOW()
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><h2 id="9-rename-a-column">9. Rename a Column<a hidden class="anchor" aria-hidden="true" href="#9-rename-a-column">#</a></h2>
<p>To rename any column in a table in PostgreSQL using <code>psql</code> interactive shell, you can use the <code>ALTER TABLE</code> statement with the <code>RENAME COLUMN</code> clause. For example, to rename <code>post_title</code> column to <code>post_featured_title</code>, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">TABLE</span> LinkedInPost <span style="color:#66d9ef">RENAME</span> <span style="color:#66d9ef">COLUMN</span> post_title <span style="color:#66d9ef">TO</span> post_featured_title;
</span></span></code></pre></div><p>It will rename the column <code>post_title</code> to <code>post_featured_title</code>.</p>
<h2 id="10-delete-a-column">10. Delete a Column<a hidden class="anchor" aria-hidden="true" href="#10-delete-a-column">#</a></h2>
<p>To delete a column from a table in PostgreSQL using <code>psql</code> interactive shell, use the <code>ALTER TABLE</code> statement with the <code>DROP COLUMN</code> clause. For example, to delete the <code>post_content</code> field from your <code>LinkedInPost</code> table, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">TABLE</span> LinkedInPost <span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">COLUMN</span> post_content;
</span></span></code></pre></div><h2 id="11-index-a-column">11. Index a Column<a hidden class="anchor" aria-hidden="true" href="#11-index-a-column">#</a></h2>
<p>To index a column to make your query faster, suppose you want to index the <code>id</code> column. To create an index on the <code>id</code> field of the <code>LinkedInPost</code> table in PostgreSQL, you can use the <code>CREATE INDEX</code> statement. Type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">INDEX</span> idx_id <span style="color:#66d9ef">ON</span> LinkedInPost(id);
</span></span></code></pre></div><p>It will create an index column <code>idx_id</code> based on the <code>id</code> column.</p>
<h2 id="12-delete-the-database">12. Delete the Database<a hidden class="anchor" aria-hidden="true" href="#12-delete-the-database">#</a></h2>
<p>To delete a table, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">DATABASE</span> LinkedInPost;
</span></span></code></pre></div><p>The database you created before is deleted successfully.</p>
<h2 id="13-delete-database-issue">13. Delete Database Issue<a hidden class="anchor" aria-hidden="true" href="#13-delete-database-issue">#</a></h2>
<p>If you encounter an error when trying to delete the database, like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plaintext" data-lang="plaintext"><span style="display:flex;"><span>ERROR: database &#34;LinkedInPost_db&#34; is being accessed by other user
</span></span><span style="display:flex;"><span>DETAIL: There are 3 other sessions using the database.
</span></span></code></pre></div><p>It occurs because after creating the database, I connect it with pgAdmin 4. If you encounter this type of issue, type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> pg_terminate_backend(pg_stat_activity.pid)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> pg_stat_activity
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">WHERE</span> pg_stat_activity.datname <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;LinkedInPost_db&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">AND</span> pid <span style="color:#f92672">&lt;&gt;</span> pg_backend_pid();
</span></span></code></pre></div><p>It will terminate all the connections to the database except the one you are currently using.</p>
<p><strong>Note:</strong> Before running this statement, please log in as the <code>postgres</code> user in the <code>psql</code> shell.</p>
<h2 id="14-backup-your-database">14. Backup your Database<a hidden class="anchor" aria-hidden="true" href="#14-backup-your-database">#</a></h2>
<p>To backup a database, please select the database by typing:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">c</span> your_database_name
</span></span></code></pre></div><p>In our case, it will be:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">c</span> LinkedInPost
</span></span></code></pre></div><p>Then type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pg_dump -U postgres -Fc your_database_name &gt; /path/to/your_backup_file_name.dump
</span></span></code></pre></div><p>In this command, <code>-U</code> specifies the user, <code>-Fc</code> specifies the format of the backup file as custom, <code>your_database_name</code> is the name of the database you want to backup, and <code>/path/to/your_backup_file_name.dump</code> is the path and name of the backup file you want to create.</p>
<h2 id="15-use-the-backup-file">15. Use the Backup File<a hidden class="anchor" aria-hidden="true" href="#15-use-the-backup-file">#</a></h2>
<p>To import a PostgreSQL backup file with a <code>.dump</code> file extension, you can use the <code>pg_restore</code> command-line tool. Type:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pg_restore -U username -d databasename filename.dump
</span></span></code></pre></div><p>In our case, it will be:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pg_restore -U postgres -d mydatabase mybackupfile.dump
</span></span></code></pre></div><p>You cannot use any custom file type in the <code>pg_dump</code> and <code>pg_restore</code> commands for the backup file type. The <code>pg_dump</code> command creates a custom binary file format for PostgreSQL with the file extension <code>.dump</code>. Similarly, <code>pg_restore</code> is designed to work only with the customized binary format generated by <code>pg_dump</code>.</p>
<p>With these commands, you cannot use JSON, Excel, or any other file format. The PostgreSQL custom binary format is widely used in the industry and is considered the standard for PostgreSQL backups and restores. While other file formats are available, such as plain text, CSV, and SQL, the custom binary format is preferred because it allows for faster backup and restore times, supports more advanced features, and is more secure.</p>
<p>To exit from the <code>psql</code> terminal, use:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span>q
</span></span></code></pre></div><h2 id="configure-postgresql-with-django">Configure PostgreSQL with Django<a hidden class="anchor" aria-hidden="true" href="#configure-postgresql-with-django">#</a></h2>
<p>If you are completely new to PostgreSQL and trying to connect it with the Python Django Framework, you might face an error during installing <code>psycopg2</code>, a popular PostgreSQL database adapter. You can try to run this code in your terminal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get install --reinstall libpq-dev
</span></span><span style="display:flex;"><span>pip install psycopg2
</span></span></code></pre></div><p>Another problem you might face during <code>python3 manage.py makemigrations</code> and <code>python3 manage.py migrate</code> is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plaintext" data-lang="plaintext"><span style="display:flex;"><span>psycopg2.errors.InsufficientPrivilege: permission denied for table django_migrations
</span></span></code></pre></div><p>It&rsquo;s because of insufficient permission for the user you created before. To solve this issue, run another script in your <code>psql</code> interactive shell:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">c</span> your_database_name
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">ALL</span> <span style="color:#66d9ef">PRIVILEGES</span> <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">ALL</span> TABLES <span style="color:#66d9ef">IN</span> <span style="color:#66d9ef">SCHEMA</span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">TO</span> <span style="color:#f92672">&lt;</span>username<span style="color:#f92672">&gt;</span>;
</span></span></code></pre></div><p>It will solve your issue. You might ask, &ldquo;I already granted permission to the database, why should I run another script again?&rdquo;. The answer is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#75715e">-- Permission on One Table
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">ALL</span> <span style="color:#66d9ef">PRIVILEGES</span> <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">TABLE</span> side_adzone <span style="color:#66d9ef">TO</span> <span style="color:#f92672">&lt;</span>username<span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Permission on All Tables of schema
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">ALL</span> <span style="color:#66d9ef">PRIVILEGES</span> <span style="color:#66d9ef">ON</span> <span style="color:#66d9ef">ALL</span> TABLES <span style="color:#66d9ef">IN</span> <span style="color:#66d9ef">SCHEMA</span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">TO</span> <span style="color:#f92672">&lt;</span>username<span style="color:#f92672">&gt;</span>;
</span></span></code></pre></div><p>Hope your problem will be solved immediately. I found this piece of code after some trial and error.</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>Learning essential <code>psql</code> command-line skills is an important step toward mastering PostgreSQL as a beginner. With the skills covered in this article, you are now equipped to create and manage databases, tables, and columns, as well as perform basic data manipulation tasks in PostgreSQL. As you continue to practice and learn more about PostgreSQL, you will discover that there is so much more you can do with the <code>psql</code> command-line interface. So go ahead and dive deeper into the world of PostgreSQL, and let the journey of mastering this powerful open-source relational database begin!</p>
<p>Thanks for reading! Hope you found this helpful.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/psql/">Psql</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/2024-05-18-argocd-deployment-notes-2024/">
    <span class="title">« Prev</span>
    <br>
    <span>ArgoCD configuration on Bare metal with nginx-ingress and cloudflare tunnel</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/2024-05-18-k8s-setup-notes-2024/">
    <span class="title">Next »</span>
    <br>
    <span>Setting Up a Kubernetes Cluster with k3s on Bare Metal Server</span>
  </a>
</nav>


<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners on twitter"
        href="https://twitter.com/intent/tweet/?text=Getting%20Started%20with%20PostgreSQL%3a-%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2024-05-18-psql-commands-notes-2024%2f&amp;hashtags=psql">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2024-05-18-psql-commands-notes-2024%2f&amp;title=Getting%20Started%20with%20PostgreSQL%3a-%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;summary=Getting%20Started%20with%20PostgreSQL%3a-%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2f2024-05-18-psql-commands-notes-2024%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners on reddit"
        href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2024-05-18-psql-commands-notes-2024%2f&title=Getting%20Started%20with%20PostgreSQL%3a-%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners on facebook"
        href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2f2024-05-18-psql-commands-notes-2024%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners on whatsapp"
        href="https://api.whatsapp.com/send?text=Getting%20Started%20with%20PostgreSQL%3a-%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2f2024-05-18-psql-commands-notes-2024%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share Getting Started with PostgreSQL:- Essential psql Command Line Skills for Beginners on telegram"
        href="https://telegram.me/share/url?text=Getting%20Started%20with%20PostgreSQL%3a-%20Essential%20psql%20Command%20Line%20Skills%20for%20Beginners&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f2024-05-18-psql-commands-notes-2024%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/">Backend Byte</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
